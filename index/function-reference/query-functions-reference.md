# 查询函数参考

`ebuild.sh`提供的以下函数可用于查询变量和类似状态。

| **函数**                         | **细节**                                                                                                                                                                                                                                                             |
| :------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `use flagname`                   | 当且仅当 `flagname` 启用时，返回真值。如果以`!flagname`为前缀，则条件将被反转。保证 `use` 不产生任何输出。                                                                                                                                                           |
| `useq flagname`                  | 已弃用的`use`同义词 。                                                                                                                                                                                                                                               |
| `usev flagname`                  | 类似 `use`，成功时回显`flagname`。                                                                                                                                                                                                                                   |
| `use_enable flag str val`        | 根据`useq flag`回显`--enable-str=val`或`--disable-str`。如果未指定`str`，则改用`flag`。如果未指定`val`，则省略分配部分。                                                                                                                                             |
| `use_with flag str val`          | 类似 `use_enable`，但有`--with-`或`--without-`。                                                                                                                                                                                                                     |
| `has flag string`                | 如果标志列表`string`中包含`flag`，则返回 true（例如：`if has ccache $FEATURES ; then`）。如果以`!flag`为前缀，则条件被反转。确保`has`没有任何输出。                                                                                                                  |
| `hasq flag string`               | 已弃用的`has`同义词 。                                                                                                                                                                                                                                               |
| `hasv flag string`               | 类似 `has`，成功回显 `flag`。                                                                                                                                                                                                                                        |
| `best_version [option] pkg`      | 回显当前安装的最高版本的`pkg`的类别，名称和版本。示例：`best_version app-editors/emacs:24`将输出`app-editors/emacs-24.5-r3`。（EAPI = 7）也可以指定一个选项来查询某些类型的依赖项。 `-b`表示`BDEPEND` `-d`表示`DEPEND` `-r`（默认）表示`RDEPEND`                     |
| `has_version [option] pkg[flag]` | 如果已安装 `pkg`（包括 [版本说明符](./../general-concepts/dependencies.md) 和 [使用 use 构建依赖关系](./../general-concepts/dependencies.md)），则为 true。示例：`has_version "=app-editors/nano-2.5.3[nls,spell]"`。（EAPI = 7）也可以指定一个选项来查询某些类型的依赖项。 `-b` 表示 `BDEPEND` `-d` 表示 `DEPEND` `-r`（默认值）表示`RDEPEND` |
